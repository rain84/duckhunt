(this.webpackJsonpduckhunt=this.webpackJsonpduckhunt||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"title":"Duck Hunt","backgroundColor":"#3fbfff","width":800,"height":800,"physics":{"default":"arcade","arcade":{"gravity":{"y":0},"debug:":false}}}')},44:function(e,t,n){e.exports={home:"home_home__3uCto"}},63:function(e,t,n){var i={"./ion-phaser.entry.js":[70,5]};function s(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(i)},s.id=63,e.exports=s},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(21),o=n(45),c=n(26),r=n(13),u=0,h=Object(c.b)({name:"todos",initialState:[],reducers:{addTodo:{reducer:function(e,t){var n=t.payload,i=n.text,s=n.id;e.push({text:i,id:s})},prepare:function(e){return{payload:{text:e,id:u++}}}},removeTodo:function(e,t){var n=t.payload,i=e.findIndex((function(e){var t=e.id;return n===t}));e.splice(i,1)}}}),l=h.actions,d=(l.addTodo,l.removeTodo,h.reducer),v=Object(r.c)({todos:d}),m=n(39),O=n(8),f=n(9);console.log(JSON.stringify(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),null,"  ")),console.log("basename","");var b,p,y,j=function(){return Object(f.jsx)(m.a,{basename:"",children:Object(f.jsxs)(O.c,{children:[Object(f.jsx)(O.a,{path:"/game",component:ye,exact:!0}),Object(f.jsx)(O.a,{path:"/home",component:xe}),Object(f.jsx)(O.a,{path:"/scores",children:"Scores"}),Object(f.jsx)(O.a,{path:"/about",children:"About"}),Object(f.jsx)(O.a,{path:"/",component:xe})]})})},T=n(25),k=n(23),g=n(46),_=n(24),x=n(2),E=n(3),I=n(5),N=n(4),R=n(11),L=n.n(R),D=(L.a.Scene,n(7));!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT",e[e.UP=2]="UP",e[e.DOWN=3]="DOWN",e[e.UP_RIGHT=4]="UP_RIGHT",e[e.UP_LEFT=5]="UP_LEFT",e[e.DOWN_RIGHT=6]="DOWN_RIGHT",e[e.DOWN_LEFT=7]="DOWN_LEFT",e[e.NONE=8]="NONE"}(b||(b={})),function(e){e[e.ENEMY=0]="ENEMY",e[e.BACKGROUND=1]="BACKGROUND",e[e.STATIC=2]="STATIC",e[e.LABELS=3]="LABELS",e[e.CROSSHAIR=4]="CROSSHAIR"}(p||(p={})),function(e){e.RIGHT="RIGHT",e.UP="UP",e.UP_RIGHT="UP_RIGHT",e.KILLED="KILLED"}(y||(y={}));var S=n(19),F=function(){function e(){Object(x.a)(this,e),this.width=0,this.height=0,this._instance=void 0,this.sounds={},this.soundList=[]}return Object(E.a)(e,[{key:"instance",get:function(){return this._instance}},{key:"update",value:function(){}},{key:"preloadSound",value:function(e,t){e.forEach((function(e){return t.load.audio(e,["game-assets/audio/".concat(e,".ogg"),"game-assets/audio/".concat(e,".mp3")])}))}},{key:"createSound",value:function(e,t){var n={};return e.forEach((function(e){return n[e]=t.sound.add(e)})),n}}]),e}();F.scene={width:S.width,height:S.height,center:{x:S.width/2,y:S.height/2}};var G,H,P,w,U=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(x.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).movement={speed:0,velocity:{x:0,y:0},direction:b.NONE},e.onFinish=function(){},e}return Object(E.a)(n,[{key:"prepareMove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setMovement(e,t),null===this||void 0===this||this.setAnimation(e)}},{key:"isOutOfBorder",value:function(){if(!this._instance)return null;var e=F.scene.width-this._instance.x-this.width<0,t=this._instance.x-this.width<0,n=this._instance.y-this.height<0,i=F.scene.height-this._instance.y-this.height<0;return e||t||n||i?{right:e,left:t,top:n,bottom:i}:null}},{key:"stopMovement",value:function(){var e;this.setMovement(b.NONE),null===(e=this._instance)||void 0===e||e.setVelocity(0)}},{key:"setMovement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.movement.direction!==e){switch(this.movement.velocity={x:0,y:0},e){case b.RIGHT:this.movement.velocity.x=this.movement.speed;break;case b.LEFT:this.movement.velocity.x=-this.movement.speed;break;case b.UP:this.movement.velocity.y=-this.movement.speed;break;case b.DOWN:this.movement.velocity.y=this.movement.speed;break;case b.DOWN_LEFT:this.movement.velocity.x=-this.movement.speed,this.movement.velocity.y=this.movement.speed;break;case b.DOWN_RIGHT:this.movement.velocity.x=this.movement.speed,this.movement.velocity.y=this.movement.speed;break;case b.UP_LEFT:this.movement.velocity.x=-this.movement.speed,this.movement.velocity.y=-this.movement.speed;break;case b.UP_RIGHT:this.movement.velocity.x=this.movement.speed,this.movement.velocity.y=-this.movement.speed;break;case b.NONE:this.movement.velocity.x=0,this.movement.velocity.y=0;break;default:throw new Error("Wrong direction '".concat(e,"'"))}this.onFinish(),this.onFinish=t,this.movement.direction=e}}}]),n}(F),W=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"preload",value:function(){}}]),n}(F),A=n(10);!function(e){e.OPPOSITE="OPPOSITE",e.FOLLOWING="FOLLOWING"}(w||(w={}));var C,K,B,M=(P={},Object(A.a)(P,w.OPPOSITE,(G={},Object(A.a)(G,b.UP,[b.DOWN_LEFT,b.DOWN_RIGHT]),Object(A.a)(G,b.DOWN,[b.UP_LEFT,b.UP,b.UP_RIGHT]),Object(A.a)(G,b.LEFT,[b.DOWN_RIGHT,b.RIGHT,b.UP_RIGHT]),Object(A.a)(G,b.RIGHT,[b.DOWN_LEFT,b.LEFT,b.DOWN_RIGHT]),G)),Object(A.a)(P,w.FOLLOWING,(H={},Object(A.a)(H,b.UP,[b.UP_LEFT,b.UP_RIGHT]),Object(A.a)(H,b.DOWN,[b.DOWN_LEFT,b.DOWN_RIGHT]),Object(A.a)(H,b.LEFT,[b.DOWN_LEFT,b.UP_LEFT]),Object(A.a)(H,b.RIGHT,[b.DOWN_RIGHT,b.UP_RIGHT]),Object(A.a)(H,b.UP_LEFT,[b.LEFT,b.UP]),Object(A.a)(H,b.UP_RIGHT,[b.UP,b.RIGHT]),Object(A.a)(H,b.DOWN_LEFT,[b.LEFT]),Object(A.a)(H,b.DOWN_RIGHT,[b.RIGHT]),H)),P),z=function(e){return e[Phaser.Math.Between(0,e.length-1)]},V=function(e){var t=M[w.OPPOSITE][e];return z(t)},q=function(e){var t=M[w.FOLLOWING][e];return Array.isArray(t)?z(t):null},J=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e){var i;return Object(x.a)(this,n),(i=t.call(this)).scene=e,i.width=40,i.height=37,i.animation=y.RIGHT,i.soundList=["dead_duck_falls","duck_quack"],i.isKilled=!1,i.counter={afterBorderCollision:0,beforeSwitchingDirection:0,quack:L.a.Math.Between(25,75)},i.cb={onKill:function(){}},i.movement.speed=300,i.setSwitchTimer(),i}return Object(E.a)(n,[{key:"preload",value:function(){this.scene.load.spritesheet("duck","game-assets/duck.sprite120x148.png",{frameWidth:this.width,frameHeight:this.height}),this.preloadSound(this.soundList,this.scene)}},{key:"create",value:function(){var e=this.scene;this._instance=e.physics.add.sprite(U.scene.center.x-2*this.width,U.scene.center.y,""),this._instance.setScale(1.5).setCollideWorldBounds(!0),this.sounds=this.createSound(this.soundList,this.scene),[{key:y.RIGHT,frames:e.anims.generateFrameNumbers("duck",{frames:[0,1,2]}),frameRate:8,repeat:-1},{key:y.UP_RIGHT,frames:e.anims.generateFrameNumbers("duck",{frames:[3,4,5]}),frameRate:8,repeat:-1},{key:y.UP,frames:e.anims.generateFrameNumbers("duck",{frames:[6,7,8]}),frameRate:8,repeat:-1},{key:y.KILLED,frames:e.anims.generateFrameNumbers("duck",{frames:[9,10]}),frameRate:4,repeat:-1}].forEach((function(t){return e.anims.create(t)})),this.prepareMove(b.RIGHT)}},{key:"update",value:function(){this._instance&&(this.isKilled||(this.shouldQuack(),this.shouldSwitchDirection()),this.checkOnBounds(),this._instance.setVelocity(this.movement.velocity.x,this.movement.velocity.y).play(this.animation,!0))}},{key:"shouldQuack",value:function(){this.counter.quack--||(this.counter.quack=L.a.Math.Between(50,150),this.sounds.duck_quack.play())}},{key:"shouldSwitchDirection",value:function(){if(!this.counter.beforeSwitchingDirection--&&(this.setSwitchTimer(),this.movement.direction)){var e=q(this.movement.direction);e&&this.prepareMove(e)}}},{key:"kill",value:function(){this.isKilled||(this.isKilled=!0,this.sounds.dead_duck_falls.play(),this.prepareMove(b.DOWN),this.cb.onKill())}},{key:"onKill",value:function(e){this.cb.onKill=e}},{key:"setSwitchTimer",value:function(){this.counter.beforeSwitchingDirection=L.a.Math.Between(10,30)}},{key:"setAnimation",value:function(e){if(this._instance){switch(e){case b.RIGHT:this.animation=y.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case b.LEFT:this.animation=y.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!0,!1);break;case b.UP:this.animation=y.UP,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case b.DOWN:this.animation=y.KILLED,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case b.UP_RIGHT:this.animation=y.UP_RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case b.UP_LEFT:this.animation=y.UP_RIGHT,this._instance.setAngle(0),this._instance.setFlip(!0,!1);break;case b.DOWN_RIGHT:this.animation=y.UP_RIGHT,this._instance.setAngle(90),this._instance.setFlip(!1,!1);break;case b.DOWN_LEFT:this.animation=y.UP_RIGHT,this._instance.setAngle(90),this._instance.setFlip(!1,!0);break;case b.NONE:this.animation=y.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;default:throw new Error("Wrong direction '".concat(e,"'"))}this.movement.direction=e}}},{key:"checkOnBounds",value:function(){var e,t=this.isOutOfBorder();t&&(this.counter.afterBorderCollision--||((null===t||void 0===t?void 0:t.right)?e=b.RIGHT:(null===t||void 0===t?void 0:t.top)?e=b.UP:(null===t||void 0===t?void 0:t.left)?e=b.LEFT:(e=b.DOWN,this.isKilled&&(this.isKilled=!1)),e=V(e),this.prepareMove(e),this.counter.afterBorderCollision=5))}}]),n}(U),Q=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e,i){var s;return Object(x.a)(this,n),(s=t.call(this)).ammo=e,s.scene=i,s.width=32,s.height=32,s.cursors=void 0,s.keyboard={},s.onOverlap=function(e){return function(){var t,n;(null===(t=Object(D.a)(s))||void 0===t||null===(n=t.cursors)||void 0===n?void 0:n.space.isDown)&&s.ammo.isShooting&&e.kill()}},s.movement.speed=400,s}return Object(E.a)(n,[{key:"preload",value:function(){this.scene.load.image("crosschair","game-assets/gun-pointer.png")}},{key:"create",value:function(){var e=this.scene;this._instance=e.physics.add.sprite(U.scene.center.x,U.scene.center.y,"crosschair").setDepth(p.CROSSHAIR),this.cursors=e.input.keyboard.createCursorKeys(),this.keyboard.R=e.input.keyboard.addKey(L.a.Input.Keyboard.KeyCodes.R)}},{key:"update",value:function(){var e;if(this._instance&&this.cursors){var t=this.movement,n=this.isOutOfBorder();(null===this||void 0===this||null===(e=this.cursors)||void 0===e?void 0:e.space.isDown)&&this.ammo.tryToShoot(),this.keyboard.R.isDown&&this.ammo.reload(),!(null===n||void 0===n?void 0:n.left)&&this.cursors.left.isDown?this.setMovement(b.LEFT):!(null===n||void 0===n?void 0:n.right)&&this.cursors.right.isDown?this.setMovement(b.RIGHT):!(null===n||void 0===n?void 0:n.top)&&this.cursors.up.isDown?this.setMovement(b.UP):!(null===n||void 0===n?void 0:n.bottom)&&this.cursors.down.isDown?this.setMovement(b.DOWN):t.direction!==b.NONE&&this.stopMovement(),t.direction!==b.NONE&&this._instance.setVelocity(t.velocity.x,t.velocity.y)}}}]),n}(U),Y=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e,i){var s;return Object(x.a)(this,n),(s=t.call(this)).src=e,s.scene=i,s}return Object(E.a)(n,[{key:"preload",value:function(){this.scene.load.image("bg",this.src)}},{key:"create",value:function(){this.scene.add.image(W.scene.center.x,W.scene.center.y,"bg").setDepth(p.BACKGROUND)}}]),n}(W),X=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e,i,s,a){var o;return Object(x.a)(this,n),(o=t.call(this)).str=e,o.x=i,o.y=s,o.scene=a,o.text=void 0,o}return Object(E.a)(n,[{key:"create",value:function(){this.text=this.scene.add.text(this.x,this.y,this.str,{fontSize:"24px",color:"#fff"}).setDepth(p.LABELS)}},{key:"setText",value:function(e){var t;null===(t=this.text)||void 0===t||t.setText(e)}},{key:"show",value:function(){var e;null===(e=this.text)||void 0===e||e.setVisible(!0)}},{key:"hide",value:function(){var e;null===(e=this.text)||void 0===e||e.setVisible(!1)}}]),n}(W),Z=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e,i,s,a){var o;return Object(x.a)(this,n),(o=t.call(this)).bullets=e,o.scene=a,o.text=void 0,o.caption="Ammo:",o.magazine=void 0,o._isShooting=!1,o.soundList=["gun_is_empty","shotgun","gun_reload"],o.tryToShoot=function(){return o.isEmpty?(o.sounds.gun_is_empty.play(),!1):!o._isShooting&&(o.sounds.shotgun.play(),o._isShooting=!0,o.magazine--,o.updateText(),setTimeout((function(){return o._isShooting=!1}),2e3),!0)},o.magazine=e,o.text=new X("",i,s,a),o}return Object(E.a)(n,[{key:"preload",value:function(){this.preloadSound(this.soundList,this.scene)}},{key:"create",value:function(){this.text.create(),this.updateText(),this.sounds=this.createSound(this.soundList,this.scene)}},{key:"isEmpty",get:function(){return 0===this.magazine}},{key:"isFull",get:function(){return this.magazine===this.bullets}},{key:"isShooting",get:function(){return this._isShooting}},{key:"reload",value:function(){this.isFull||(this.sounds.gun_reload.play(),this.magazine=this.bullets,this.updateText())}},{key:"updateText",value:function(){this.text.setText("".concat(this.caption).concat(this.magazine))}}]),n}(W),$=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(e,i,s){var a;return Object(x.a)(this,n),(a=t.call(this)).text=void 0,a.caption="Score:",a.counter=0,a.increase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.counter+=e,a.updateText()},a.decrease=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.counter-=e,a.updateText()},a.text=new X("",e,i,s),a}return Object(E.a)(n,[{key:"preload",value:function(){this.text.preload()}},{key:"create",value:function(){this.text.create(),this.updateText()}},{key:"valueOf",value:function(){return this.counter}},{key:"updateText",value:function(){this.text.setText("".concat(this.caption).concat(this.counter))}}]),n}(W),ee=function(e){Object(I.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(x.a)(this,n),(e=t.call(this,"Level")).isGameOver=!1,e.bg=void 0,e.actors=void 0,e.duck=void 0,e.hunter=void 0,e.ammo=void 0,e.score=void 0;return e.bg=new Y("game-assets/duck-hunt-background-large.png",Object(D.a)(e)),e.duck=new J(Object(D.a)(e)),e.ammo=new Z(2,100,740,Object(D.a)(e)),e.score=new $(660,740,Object(D.a)(e)),e.hunter=new Q(e.ammo,Object(D.a)(e)),e.actors=[e.duck,e.hunter,e.ammo,e.score],e.duck.onKill(e.score.increase),e}return Object(E.a)(n,[{key:"preload",value:function(){this.bg.preload(),this.actors.forEach((function(e){return e.preload()}))}},{key:"create",value:function(){this.bg.create(),this.actors.forEach((function(e){return e.create()})),this.physics.add.overlap(this.duck.instance,this.hunter.instance,this.hunter.onOverlap(this.duck),void 0,this)}},{key:"update",value:function(){this.isGameOver||(this.isGameOver=this.actors.some((function(e){return e.update()})))}}]),n}(L.a.Scene),te=n(1),ne=n(16),ie=Object(ne.a)("size"),se=Object(ne.a)("center"),ae=Object(ne.a)("bombs"),oe=Object(ne.a)("platforms"),ce=Object(ne.a)("player"),re=Object(ne.a)("cursors"),ue=Object(ne.a)("stars"),he=Object(ne.a)("starsCount"),le=Object(ne.a)("score"),de=Object(ne.a)("scoreText"),ve=Object(ne.a)("gameOver"),me=Object(ne.a)("gameOverText"),Oe=(L.a.Scene,n(40)),fe=n(33),be=n.n(fe),pe=_.a.section(C||(C=Object(k.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\n\t& > .ion-phaser {\n\t\tborder: 1px solid black;\n\t}\n"]))),ye=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(be()(Object(Oe.a)({type:L.a.AUTO},S),e)),n=Object(T.a)(t,2),s=n[0],a=n[1],o=Object(i.useCallback)((function(e){a((function(t){return be()(t,e)}))}),[]);return[s,o]}({scene:ee}),t=Object(T.a)(e,1)[0];return Object(f.jsx)(pe,{children:Object(f.jsx)(g.a,{game:t,className:"ion-phaser"})})},je=n(44),Te=n.n(je),ke=n.p+"static/media/duckhunt.85e41777.png",ge=_.a.img(K||(K=Object(k.a)(["\n\twidth: 100vh;\n"]))),_e=_.a.h1(B||(B=Object(k.a)(["\n\ttext-align: center;\n"]))),xe=function(){return Object(f.jsxs)("div",{className:Te.a.home,children:[Object(f.jsx)(ge,{src:ke,alt:"duckhunt"}),Object(f.jsx)(_e,{children:"Duck Hunt 2D"})]})},Ee=(n(66),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,73)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))});Object(a.render)(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(o.a,{store:Object(c.a)({reducer:v}),children:Object(f.jsx)(j,{})})}),document.getElementById("root")),Ee()}},[[67,2,3]]]);
//# sourceMappingURL=main.7133af96.chunk.js.map