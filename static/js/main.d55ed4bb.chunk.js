(this.webpackJsonpduckhunt=this.webpackJsonpduckhunt||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"title":"Duck Hunt","backgroundColor":"#3fbfff","width":800,"height":800,"physics":{"default":"arcade","arcade":{"gravity":{"y":0},"debug:":false}}}')},44:function(e,t,n){e.exports={home:"home_home__3uCto"}},63:function(e,t,n){var i={"./ion-phaser.entry.js":[70,5]};function s(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(i)},s.id=63,e.exports=s},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var i,s,a,c=n(0),o=n.n(c),r=n(21),u=n(45),h=n(26),l=n(13),d=0,v=Object(h.b)({name:"todos",initialState:[],reducers:{addTodo:{reducer:function(e,t){var n=t.payload,i=n.text,s=n.id;e.push({text:i,id:s})},prepare:function(e){return{payload:{text:e,id:d++}}}},removeTodo:function(e,t){var n=t.payload,i=e.findIndex((function(e){var t=e.id;return n===t}));e.splice(i,1)}}}),m=v.actions,O=(m.addTodo,m.removeTodo,v.reducer),f=Object(l.c)({todos:O}),b=n(39),p=n(8),y=n(9),j=function(){return console.log("feature/gh-pages"),Object(y.jsx)(b.a,{basename:"/duckhunt",children:Object(y.jsxs)(p.c,{children:[Object(y.jsx)(p.a,{path:"/game",component:ye,exact:!0}),Object(y.jsx)(p.a,{path:"/home",component:xe}),Object(y.jsx)(p.a,{path:"/scores",children:"Scores"}),Object(y.jsx)(p.a,{path:"/about",children:"About"}),Object(y.jsx)(p.a,{path:"/",component:ye})]})})},k=n(25),T=n(23),g=n(46),_=n(24),x=n(2),I=n(3),E=n(5),N=n(4),L=n(11),R=n.n(L),D=(R.a.Scene,n(7));!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT",e[e.UP=2]="UP",e[e.DOWN=3]="DOWN",e[e.UP_RIGHT=4]="UP_RIGHT",e[e.UP_LEFT=5]="UP_LEFT",e[e.DOWN_RIGHT=6]="DOWN_RIGHT",e[e.DOWN_LEFT=7]="DOWN_LEFT",e[e.NONE=8]="NONE"}(i||(i={})),function(e){e[e.ENEMY=0]="ENEMY",e[e.BACKGROUND=1]="BACKGROUND",e[e.STATIC=2]="STATIC",e[e.LABELS=3]="LABELS",e[e.CROSSHAIR=4]="CROSSHAIR"}(s||(s={})),function(e){e.RIGHT="RIGHT",e.UP="UP",e.UP_RIGHT="UP_RIGHT",e.KILLED="KILLED"}(a||(a={}));var F=n(19),G=function(){function e(){Object(x.a)(this,e),this.width=0,this.height=0,this._instance=void 0,this.sounds={},this.soundList=[]}return Object(I.a)(e,[{key:"instance",get:function(){return this._instance}},{key:"update",value:function(){}},{key:"preloadSound",value:function(e,t){e.forEach((function(e){return t.load.audio(e,["game-assets/audio/".concat(e,".ogg"),"game-assets/audio/".concat(e,".mp3")])}))}},{key:"createSound",value:function(e,t){var n={};return e.forEach((function(e){return n[e]=t.sound.add(e)})),n}}]),e}();G.scene={width:F.width,height:F.height,center:{x:F.width/2,y:F.height/2}};var w,H,P,S,U=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(x.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).movement={speed:0,velocity:{x:0,y:0},direction:i.NONE},e.onFinish=function(){},e}return Object(I.a)(n,[{key:"prepareMove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setMovement(e,t),null===this||void 0===this||this.setAnimation(e)}},{key:"isOutOfBorder",value:function(){if(!this._instance)return null;var e=G.scene.width-this._instance.x-this.width<0,t=this._instance.x-this.width<0,n=this._instance.y-this.height<0,i=G.scene.height-this._instance.y-this.height<0;return e||t||n||i?{right:e,left:t,top:n,bottom:i}:null}},{key:"stopMovement",value:function(){var e;this.setMovement(i.NONE),null===(e=this._instance)||void 0===e||e.setVelocity(0)}},{key:"setMovement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.movement.direction!==e){switch(this.movement.velocity={x:0,y:0},e){case i.RIGHT:this.movement.velocity.x=this.movement.speed;break;case i.LEFT:this.movement.velocity.x=-this.movement.speed;break;case i.UP:this.movement.velocity.y=-this.movement.speed;break;case i.DOWN:this.movement.velocity.y=this.movement.speed;break;case i.DOWN_LEFT:this.movement.velocity.x=-this.movement.speed,this.movement.velocity.y=this.movement.speed;break;case i.DOWN_RIGHT:this.movement.velocity.x=this.movement.speed,this.movement.velocity.y=this.movement.speed;break;case i.UP_LEFT:this.movement.velocity.x=-this.movement.speed,this.movement.velocity.y=-this.movement.speed;break;case i.UP_RIGHT:this.movement.velocity.x=this.movement.speed,this.movement.velocity.y=-this.movement.speed;break;case i.NONE:this.movement.velocity.x=0,this.movement.velocity.y=0;break;default:throw new Error("Wrong direction '".concat(e,"'"))}this.onFinish(),this.onFinish=t,this.movement.direction=e}}}]),n}(G),W=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"preload",value:function(){}}]),n}(G),A=n(10);!function(e){e.OPPOSITE="OPPOSITE",e.FOLLOWING="FOLLOWING"}(S||(S={}));var C,K,M,B=(P={},Object(A.a)(P,S.OPPOSITE,(w={},Object(A.a)(w,i.UP,[i.DOWN_LEFT,i.DOWN_RIGHT]),Object(A.a)(w,i.DOWN,[i.UP_LEFT,i.UP,i.UP_RIGHT]),Object(A.a)(w,i.LEFT,[i.DOWN_RIGHT,i.RIGHT,i.UP_RIGHT]),Object(A.a)(w,i.RIGHT,[i.DOWN_LEFT,i.LEFT,i.DOWN_RIGHT]),w)),Object(A.a)(P,S.FOLLOWING,(H={},Object(A.a)(H,i.UP,[i.UP_LEFT,i.UP_RIGHT]),Object(A.a)(H,i.DOWN,[i.DOWN_LEFT,i.DOWN_RIGHT]),Object(A.a)(H,i.LEFT,[i.DOWN_LEFT,i.UP_LEFT]),Object(A.a)(H,i.RIGHT,[i.DOWN_RIGHT,i.UP_RIGHT]),Object(A.a)(H,i.UP_LEFT,[i.LEFT,i.UP]),Object(A.a)(H,i.UP_RIGHT,[i.UP,i.RIGHT]),Object(A.a)(H,i.DOWN_LEFT,[i.LEFT]),Object(A.a)(H,i.DOWN_RIGHT,[i.RIGHT]),H)),P),z=function(e){return e[Phaser.Math.Between(0,e.length-1)]},q=function(e){var t=B[S.OPPOSITE][e];return z(t)},V=function(e){var t=B[S.FOLLOWING][e];return Array.isArray(t)?z(t):null},J=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var i;return Object(x.a)(this,n),(i=t.call(this)).scene=e,i.width=40,i.height=37,i.animation=a.RIGHT,i.soundList=["dead_duck_falls","duck_quack"],i.isKilled=!1,i.counter={afterBorderCollision:0,beforeSwitchingDirection:0,quack:R.a.Math.Between(25,75)},i.cb={onKill:function(){}},i.movement.speed=300,i.setSwitchTimer(),i}return Object(I.a)(n,[{key:"preload",value:function(){this.scene.load.spritesheet("duck","game-assets/duck.sprite120x148.png",{frameWidth:this.width,frameHeight:this.height}),this.preloadSound(this.soundList,this.scene)}},{key:"create",value:function(){var e=this.scene;this._instance=e.physics.add.sprite(U.scene.center.x-2*this.width,U.scene.center.y,""),this._instance.setScale(1.5).setCollideWorldBounds(!0),this.sounds=this.createSound(this.soundList,this.scene),[{key:a.RIGHT,frames:e.anims.generateFrameNumbers("duck",{frames:[0,1,2]}),frameRate:8,repeat:-1},{key:a.UP_RIGHT,frames:e.anims.generateFrameNumbers("duck",{frames:[3,4,5]}),frameRate:8,repeat:-1},{key:a.UP,frames:e.anims.generateFrameNumbers("duck",{frames:[6,7,8]}),frameRate:8,repeat:-1},{key:a.KILLED,frames:e.anims.generateFrameNumbers("duck",{frames:[9,10]}),frameRate:4,repeat:-1}].forEach((function(t){return e.anims.create(t)})),this.prepareMove(i.RIGHT)}},{key:"update",value:function(){this._instance&&(this.isKilled||(this.shouldQuack(),this.shouldSwitchDirection()),this.checkOnBounds(),this._instance.setVelocity(this.movement.velocity.x,this.movement.velocity.y).play(this.animation,!0))}},{key:"shouldQuack",value:function(){this.counter.quack--||(this.counter.quack=R.a.Math.Between(50,150),this.sounds.duck_quack.play())}},{key:"shouldSwitchDirection",value:function(){if(!this.counter.beforeSwitchingDirection--&&(this.setSwitchTimer(),this.movement.direction)){var e=V(this.movement.direction);e&&this.prepareMove(e)}}},{key:"kill",value:function(){this.isKilled||(this.isKilled=!0,this.sounds.dead_duck_falls.play(),this.prepareMove(i.DOWN),this.cb.onKill())}},{key:"onKill",value:function(e){this.cb.onKill=e}},{key:"setSwitchTimer",value:function(){this.counter.beforeSwitchingDirection=R.a.Math.Between(10,30)}},{key:"setAnimation",value:function(e){if(this._instance){switch(e){case i.RIGHT:this.animation=a.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case i.LEFT:this.animation=a.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!0,!1);break;case i.UP:this.animation=a.UP,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case i.DOWN:this.animation=a.KILLED,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case i.UP_RIGHT:this.animation=a.UP_RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;case i.UP_LEFT:this.animation=a.UP_RIGHT,this._instance.setAngle(0),this._instance.setFlip(!0,!1);break;case i.DOWN_RIGHT:this.animation=a.UP_RIGHT,this._instance.setAngle(90),this._instance.setFlip(!1,!1);break;case i.DOWN_LEFT:this.animation=a.UP_RIGHT,this._instance.setAngle(90),this._instance.setFlip(!1,!0);break;case i.NONE:this.animation=a.RIGHT,this._instance.setAngle(0),this._instance.setFlip(!1,!1);break;default:throw new Error("Wrong direction '".concat(e,"'"))}this.movement.direction=e}}},{key:"checkOnBounds",value:function(){var e,t=this.isOutOfBorder();t&&(this.counter.afterBorderCollision--||((null===t||void 0===t?void 0:t.right)?e=i.RIGHT:(null===t||void 0===t?void 0:t.top)?e=i.UP:(null===t||void 0===t?void 0:t.left)?e=i.LEFT:(e=i.DOWN,this.isKilled&&(this.isKilled=!1)),e=q(e),this.prepareMove(e),this.counter.afterBorderCollision=5))}}]),n}(U),Q=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e,i){var s;return Object(x.a)(this,n),(s=t.call(this)).ammo=e,s.scene=i,s.width=32,s.height=32,s.cursors=void 0,s.keyboard={},s.onOverlap=function(e){return function(){var t,n;(null===(t=Object(D.a)(s))||void 0===t||null===(n=t.cursors)||void 0===n?void 0:n.space.isDown)&&s.ammo.isShooting&&e.kill()}},s.movement.speed=400,s}return Object(I.a)(n,[{key:"preload",value:function(){this.scene.load.image("crosschair","game-assets/gun-pointer.png")}},{key:"create",value:function(){var e=this.scene;this._instance=e.physics.add.sprite(U.scene.center.x,U.scene.center.y,"crosschair").setDepth(s.CROSSHAIR),this.cursors=e.input.keyboard.createCursorKeys(),this.keyboard.R=e.input.keyboard.addKey(R.a.Input.Keyboard.KeyCodes.R)}},{key:"update",value:function(){var e;if(this._instance&&this.cursors){var t=this.movement,n=this.isOutOfBorder();(null===this||void 0===this||null===(e=this.cursors)||void 0===e?void 0:e.space.isDown)&&this.ammo.tryToShoot(),this.keyboard.R.isDown&&this.ammo.reload(),!(null===n||void 0===n?void 0:n.left)&&this.cursors.left.isDown?this.setMovement(i.LEFT):!(null===n||void 0===n?void 0:n.right)&&this.cursors.right.isDown?this.setMovement(i.RIGHT):!(null===n||void 0===n?void 0:n.top)&&this.cursors.up.isDown?this.setMovement(i.UP):!(null===n||void 0===n?void 0:n.bottom)&&this.cursors.down.isDown?this.setMovement(i.DOWN):t.direction!==i.NONE&&this.stopMovement(),t.direction!==i.NONE&&this._instance.setVelocity(t.velocity.x,t.velocity.y)}}}]),n}(U),Y=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e,i){var s;return Object(x.a)(this,n),(s=t.call(this)).src=e,s.scene=i,s}return Object(I.a)(n,[{key:"preload",value:function(){this.scene.load.image("bg",this.src)}},{key:"create",value:function(){this.scene.add.image(W.scene.center.x,W.scene.center.y,"bg").setDepth(s.BACKGROUND)}}]),n}(W),X=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e,i,s,a){var c;return Object(x.a)(this,n),(c=t.call(this)).str=e,c.x=i,c.y=s,c.scene=a,c.text=void 0,c}return Object(I.a)(n,[{key:"create",value:function(){this.text=this.scene.add.text(this.x,this.y,this.str,{fontSize:"24px",color:"#fff"}).setDepth(s.LABELS)}},{key:"setText",value:function(e){var t;null===(t=this.text)||void 0===t||t.setText(e)}},{key:"show",value:function(){var e;null===(e=this.text)||void 0===e||e.setVisible(!0)}},{key:"hide",value:function(){var e;null===(e=this.text)||void 0===e||e.setVisible(!1)}}]),n}(W),Z=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e,i,s,a){var c;return Object(x.a)(this,n),(c=t.call(this)).bullets=e,c.scene=a,c.text=void 0,c.caption="Ammo:",c.magazine=void 0,c._isShooting=!1,c.soundList=["gun_is_empty","shotgun","gun_reload"],c.tryToShoot=function(){return c.isEmpty?(c.sounds.gun_is_empty.play(),!1):!c._isShooting&&(c.sounds.shotgun.play(),c._isShooting=!0,c.magazine--,c.updateText(),setTimeout((function(){return c._isShooting=!1}),2e3),!0)},c.magazine=e,c.text=new X("",i,s,a),c}return Object(I.a)(n,[{key:"preload",value:function(){this.preloadSound(this.soundList,this.scene)}},{key:"create",value:function(){this.text.create(),this.updateText(),this.sounds=this.createSound(this.soundList,this.scene)}},{key:"isEmpty",get:function(){return 0===this.magazine}},{key:"isFull",get:function(){return this.magazine===this.bullets}},{key:"isShooting",get:function(){return this._isShooting}},{key:"reload",value:function(){this.isFull||(this.sounds.gun_reload.play(),this.magazine=this.bullets,this.updateText())}},{key:"updateText",value:function(){this.text.setText("".concat(this.caption).concat(this.magazine))}}]),n}(W),$=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e,i,s){var a;return Object(x.a)(this,n),(a=t.call(this)).text=void 0,a.caption="Score:",a.counter=0,a.increase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.counter+=e,a.updateText()},a.decrease=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.counter-=e,a.updateText()},a.text=new X("",e,i,s),a}return Object(I.a)(n,[{key:"preload",value:function(){this.text.preload()}},{key:"create",value:function(){this.text.create(),this.updateText()}},{key:"valueOf",value:function(){return this.counter}},{key:"updateText",value:function(){this.text.setText("".concat(this.caption).concat(this.counter))}}]),n}(W),ee=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(x.a)(this,n),(e=t.call(this,"Level")).isGameOver=!1,e.bg=void 0,e.actors=void 0,e.duck=void 0,e.hunter=void 0,e.ammo=void 0,e.score=void 0;return e.bg=new Y("game-assets/duck-hunt-background-large.png",Object(D.a)(e)),e.duck=new J(Object(D.a)(e)),e.ammo=new Z(2,100,740,Object(D.a)(e)),e.score=new $(660,740,Object(D.a)(e)),e.hunter=new Q(e.ammo,Object(D.a)(e)),e.actors=[e.duck,e.hunter,e.ammo,e.score],e.duck.onKill(e.score.increase),e}return Object(I.a)(n,[{key:"preload",value:function(){this.bg.preload(),this.actors.forEach((function(e){return e.preload()}))}},{key:"create",value:function(){this.bg.create(),this.actors.forEach((function(e){return e.create()})),this.physics.add.overlap(this.duck.instance,this.hunter.instance,this.hunter.onOverlap(this.duck),void 0,this)}},{key:"update",value:function(){this.isGameOver||(this.isGameOver=this.actors.some((function(e){return e.update()})))}}]),n}(R.a.Scene),te=n(1),ne=n(16),ie=Object(ne.a)("size"),se=Object(ne.a)("center"),ae=Object(ne.a)("bombs"),ce=Object(ne.a)("platforms"),oe=Object(ne.a)("player"),re=Object(ne.a)("cursors"),ue=Object(ne.a)("stars"),he=Object(ne.a)("starsCount"),le=Object(ne.a)("score"),de=Object(ne.a)("scoreText"),ve=Object(ne.a)("gameOver"),me=Object(ne.a)("gameOverText"),Oe=(R.a.Scene,n(40)),fe=n(33),be=n.n(fe),pe=_.a.section(C||(C=Object(T.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\n\t& > .ion-phaser {\n\t\tborder: 1px solid black;\n\t}\n"]))),ye=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(be()(Object(Oe.a)({type:R.a.AUTO},F),e)),n=Object(k.a)(t,2),i=n[0],s=n[1],a=Object(c.useCallback)((function(e){s((function(t){return be()(t,e)}))}),[]);return[i,a]}({scene:ee}),t=Object(k.a)(e,1)[0];return Object(y.jsx)(pe,{children:Object(y.jsx)(g.a,{game:t,className:"ion-phaser"})})},je=n(44),ke=n.n(je),Te=n.p+"static/media/duckhunt.85e41777.png",ge=_.a.img(K||(K=Object(T.a)(["\n\twidth: 100vh;\n"]))),_e=_.a.h1(M||(M=Object(T.a)(["\n\ttext-align: center;\n"]))),xe=function(){return Object(y.jsxs)("div",{className:ke.a.home,children:[Object(y.jsx)(ge,{src:Te,alt:"duckhunt"}),Object(y.jsx)(_e,{children:"Duck Hunt 2D"})]})},Ie=(n(66),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,73)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),a(e),c(e)}))});Object(r.render)(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(u.a,{store:Object(h.a)({reducer:f}),children:Object(y.jsx)(j,{})})}),document.getElementById("root")),Ie()}},[[67,2,3]]]);
//# sourceMappingURL=main.d55ed4bb.chunk.js.map